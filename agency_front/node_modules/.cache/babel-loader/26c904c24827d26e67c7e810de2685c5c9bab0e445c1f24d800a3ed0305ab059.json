{"ast":null,"code":"var _jsxFileName = \"D:\\\\agency_front\\\\src\\\\components\\\\ClientList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getClientsByManager, getHousingPreferences, updateClient } from '../api/ClientService';\nimport \"../styles/ClientList.css\";\nimport { getRequestsByManager } from \"../api/accessProperty\";\nimport { getPropertyEnums } from \"../api/propertyService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ClientList = ({\n  managerId\n}) => {\n  _s();\n  const [clients, setClients] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [expandedClient, setExpandedClient] = useState(null);\n  const [editingClient, setEditingClient] = useState(null);\n  const [statusUpdates, setStatusUpdates] = useState({});\n  const [requests, setRequests] = useState([]);\n  const [statusList, setStatusList] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const clientsData = await getClientsByManager(managerId);\n        const clientsWithPreferences = clientsData.map(client => ({\n          ...client,\n          preferences: null,\n          loadingPreferences: false\n        }));\n        setClients(clientsWithPreferences);\n      } catch (err) {\n        setError('Ошибка при загрузке клиентов');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (managerId) {\n      fetchData();\n    }\n  }, [managerId]);\n  const handleStatusChange = (requestId, newStatus) => {\n    setStatusUpdates(prev => ({\n      ...prev,\n      [requestId]: newStatus\n    }));\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [requestData, enums] = await Promise.all([getRequestsByManager(managerId), getPropertyEnums()]);\n        setRequests(requestData);\n        console.log(requestData);\n        setStatusList(enums.requestStatuses || []);\n      } catch (error) {\n        console.error(\"Ошибка при загрузке заявок или статусов:\", error);\n      }\n    };\n    fetchData();\n  }, [managerId]);\n  const loadPreferences = async clientId => {\n    setClients(prevClients => prevClients.map(client => client.id === clientId ? {\n      ...client,\n      loadingPreferences: true\n    } : client));\n    try {\n      const preferences = await getHousingPreferences(clientId);\n      setClients(prevClients => prevClients.map(client => client.id === clientId ? {\n        ...client,\n        preferences,\n        loadingPreferences: false\n      } : client));\n    } catch (err) {\n      setClients(prevClients => prevClients.map(client => client.id === clientId ? {\n        ...client,\n        preferences: [],\n        loadingPreferences: false\n      } : client));\n    }\n  };\n  const toggleClientPreferences = clientId => {\n    if (expandedClient === clientId) {\n      setExpandedClient(null);\n    } else {\n      setExpandedClient(clientId);\n      const client = clients.find(c => c.id === clientId);\n      if (!client.preferences) {\n        loadPreferences(clientId);\n      }\n    }\n  };\n  const handleUpdateClient = async e => {\n    e.preventDefault();\n    try {\n      const updated = await updateClient(editingClient.id, editingClient);\n      setClients(prev => prev.map(c => c.id === updated.id ? {\n        ...updated,\n        preferences: c.preferences\n      } : c));\n      setEditingClient(null);\n    } catch (err) {\n      alert('Ошибка при обновлении клиента');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u043E\\u0432...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"clients-preferences-table\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442\\u044B \\u0438 \\u0438\\u0445 \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u041F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u044F \\u043F\\u043E \\u0436\\u0438\\u043B\\u044C\\u044E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: clients.map(client => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"client-row\",\n            onClick: () => toggleClientPreferences(client.id),\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 38\n                }, this), \" \", client.phone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u041F\\u0430\\u0441\\u043F\\u043E\\u0440\\u0442:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 38\n                }, this), \" \", client.passport || 'не указан']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0423\\u0440\\u043E\\u0432\\u0435\\u043D\\u044C \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 38\n                }, this), \" \", client.accessLevel]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0418\\u043C\\u044F:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 38\n                }, this), \" \", client.authUser.firstname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 38\n                }, this), \" \", client.authUser.lastname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 38\n                }, this), \" \", client.authUser.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: client.loadingPreferences ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u0439...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: client.preferences ? `Показано ${client.preferences.length} предпочтений` : 'Нажмите для загрузки предпочтений'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.stopPropagation();\n                  setEditingClient({\n                    ...client\n                  });\n                },\n                children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this), expandedClient === client.id && client.preferences && /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"preferences-details\",\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"3\",\n              children: client.preferences.length > 0 ? client.preferences.map((pref, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"preference-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: [\"\\u041F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u0435 #\", index + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"preference-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0413\\u043E\\u0440\\u043E\\u0434:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 58\n                    }, this), \" \", pref.city || 'не указан']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0420\\u0430\\u0439\\u043E\\u043D:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 58\n                    }, this), \" \", pref.district || 'не указан']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0423\\u043B\\u0438\\u0446\\u0430:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 58\n                    }, this), \" \", pref.street || 'не указана']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u041F\\u043B\\u043E\\u0449\\u0430\\u0434\\u044C:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 58\n                    }, this), \" \", pref.minArea || '?', \" - \", pref.maxArea || '?', \" \\u043C\\xB2\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0426\\u0435\\u043D\\u0430:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 58\n                    }, this), \" \", pref.minPrice || '?', \" - \", pref.maxPrice || '?']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u041A\\u043E\\u043C\\u043D\\u0430\\u0442:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 58\n                    }, this), \" \", pref.roomsCount || 'не указано']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0411\\u0430\\u043B\\u043A\\u043E\\u043D:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 58\n                    }, this), \" \", pref.hasBalcony ? 'да' : 'нет']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0416\\u0438\\u0432\\u043E\\u0442\\u043D\\u044B\\u0435:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 58\n                    }, this), \" \", pref.allowPets ? 'разрешены' : 'не разрешены']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u0447\\u0430\\u043D\\u0438\\u044F:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 58\n                    }, this), \" \", pref.additionalNotes || 'нет']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 49\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 45\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043E \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u044F\\u0445\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 29\n          }, this)]\n        }, client.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this), editingClient && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUpdateClient,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"\\u0418\\u043C\\u044F:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editingClient.authUser.firstname,\n              onChange: e => setEditingClient({\n                ...editingClient,\n                authUser: {\n                  ...editingClient.authUser,\n                  firstname: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editingClient.authUser.lastname,\n              onChange: e => setEditingClient({\n                ...editingClient,\n                authUser: {\n                  ...editingClient.authUser,\n                  lastname: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: editingClient.authUser.email,\n              onChange: e => setEditingClient({\n                ...editingClient,\n                authUser: {\n                  ...editingClient.authUser,\n                  email: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: editingClient.authUser.password || '',\n              onChange: e => setEditingClient({\n                ...editingClient,\n                authUser: {\n                  ...editingClient.authUser,\n                  password: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"status-update\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: statusUpdates[request.requestId] || \"\",\n              onChange: e => handleStatusChange(request.requestId, e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- \\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441 --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 37\n              }, this), statusList.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: status,\n                children: status\n              }, status, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 41\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setEditingClient(null),\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 9\n  }, this);\n};\n_s(ClientList, \"85Rqlbi3lDPPOYMc/+SpuY4Izfg=\");\n_c = ClientList;\nexport default ClientList;\nvar _c;\n$RefreshReg$(_c, \"ClientList\");","map":{"version":3,"names":["React","useEffect","useState","getClientsByManager","getHousingPreferences","updateClient","getRequestsByManager","getPropertyEnums","jsxDEV","_jsxDEV","ClientList","managerId","_s","clients","setClients","loading","setLoading","error","setError","expandedClient","setExpandedClient","editingClient","setEditingClient","statusUpdates","setStatusUpdates","requests","setRequests","statusList","setStatusList","fetchData","clientsData","clientsWithPreferences","map","client","preferences","loadingPreferences","err","handleStatusChange","requestId","newStatus","prev","requestData","enums","Promise","all","console","log","requestStatuses","loadPreferences","clientId","prevClients","id","toggleClientPreferences","find","c","handleUpdateClient","e","preventDefault","updated","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","onClick","phone","passport","accessLevel","authUser","firstname","lastname","email","length","stopPropagation","colSpan","pref","index","city","district","street","minArea","maxArea","minPrice","maxPrice","roomsCount","hasBalcony","allowPets","additionalNotes","onSubmit","type","value","onChange","target","password","request","status","_c","$RefreshReg$"],"sources":["D:/agency_front/src/components/ClientList.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n    getClientsByManager,\r\n    getHousingPreferences,\r\n    updateClient\r\n} from '../api/ClientService';\r\nimport \"../styles/ClientList.css\";\r\nimport {getRequestsByManager} from \"../api/accessProperty\";\r\nimport {getPropertyEnums} from \"../api/propertyService\";\r\n\r\nconst ClientList = ({ managerId }) => {\r\n    const [clients, setClients] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [expandedClient, setExpandedClient] = useState(null);\r\n    const [editingClient, setEditingClient] = useState(null);\r\n    const [statusUpdates, setStatusUpdates] = useState({});\r\n    const [requests, setRequests] = useState([]);\r\n    const [statusList, setStatusList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const clientsData = await getClientsByManager(managerId);\r\n                const clientsWithPreferences = clientsData.map(client => ({\r\n                    ...client,\r\n                    preferences: null,\r\n                    loadingPreferences: false\r\n                }));\r\n                setClients(clientsWithPreferences);\r\n            } catch (err) {\r\n                setError('Ошибка при загрузке клиентов');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (managerId) {\r\n            fetchData();\r\n        }\r\n    }, [managerId]);\r\n\r\n    const handleStatusChange = (requestId, newStatus) => {\r\n        setStatusUpdates((prev) => ({ ...prev, [requestId]: newStatus }));\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const [requestData, enums] = await Promise.all([\r\n                    getRequestsByManager(managerId),\r\n                    getPropertyEnums()\r\n                ]);\r\n                setRequests(requestData);\r\n                console.log(requestData);\r\n                setStatusList(enums.requestStatuses || []);\r\n            } catch (error) {\r\n                console.error(\"Ошибка при загрузке заявок или статусов:\", error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [managerId]);\r\n\r\n    const loadPreferences = async (clientId) => {\r\n        setClients(prevClients =>\r\n            prevClients.map(client =>\r\n                client.id === clientId\r\n                    ? { ...client, loadingPreferences: true }\r\n                    : client\r\n            )\r\n        );\r\n\r\n        try {\r\n            const preferences = await getHousingPreferences(clientId);\r\n            setClients(prevClients =>\r\n                prevClients.map(client =>\r\n                    client.id === clientId\r\n                        ? { ...client, preferences, loadingPreferences: false }\r\n                        : client\r\n                )\r\n            );\r\n        } catch (err) {\r\n            setClients(prevClients =>\r\n                prevClients.map(client =>\r\n                    client.id === clientId\r\n                        ? { ...client, preferences: [], loadingPreferences: false }\r\n                        : client\r\n                )\r\n            );\r\n        }\r\n    };\r\n\r\n    const toggleClientPreferences = (clientId) => {\r\n        if (expandedClient === clientId) {\r\n            setExpandedClient(null);\r\n        } else {\r\n            setExpandedClient(clientId);\r\n            const client = clients.find(c => c.id === clientId);\r\n            if (!client.preferences) {\r\n                loadPreferences(clientId);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleUpdateClient = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const updated = await updateClient(editingClient.id, editingClient);\r\n            setClients(prev =>\r\n                prev.map(c =>\r\n                    c.id === updated.id ? { ...updated, preferences: c.preferences } : c\r\n                )\r\n            );\r\n            setEditingClient(null);\r\n        } catch (err) {\r\n            alert('Ошибка при обновлении клиента');\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"loading\">Загрузка клиентов...</div>;\r\n    if (error) return <div className=\"error\">{error}</div>;\r\n\r\n    return (\r\n        <div className=\"clients-preferences-table\">\r\n            <h2>Клиенты и их предпочтения</h2>\r\n            <table>\r\n                <thead>\r\n                <tr>\r\n                    <th>Информация о клиенте</th>\r\n                    <th>Предпочтения по жилью</th>\r\n                    <th>Действия</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {clients.map(client => (\r\n                    <React.Fragment key={client.id}>\r\n                        <tr\r\n                            className=\"client-row\"\r\n                            onClick={() => toggleClientPreferences(client.id)}\r\n                        >\r\n                            <td>\r\n                                <div><strong>Телефон:</strong> {client.phone}</div>\r\n                                <div><strong>Паспорт:</strong> {client.passport || 'не указан'}</div>\r\n                                <div><strong>Уровень доступа:</strong> {client.accessLevel}</div>\r\n                                <div><strong>Имя:</strong> {client.authUser.firstname}</div>\r\n                                <div><strong>Фамилия:</strong> {client.authUser.lastname}</div>\r\n                                <div><strong>Email:</strong> {client.authUser.email}</div>\r\n                            </td>\r\n                            <td>\r\n                                {client.loadingPreferences ? (\r\n                                    <div>Загрузка предпочтений...</div>\r\n                                ) : (\r\n                                    <div>\r\n                                        {client.preferences\r\n                                            ? `Показано ${client.preferences.length} предпочтений`\r\n                                            : 'Нажмите для загрузки предпочтений'}\r\n                                    </div>\r\n                                )}\r\n                            </td>\r\n                            <td>\r\n                                <button\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        setEditingClient({ ...client });\r\n                                    }}\r\n                                >\r\n                                    Редактировать\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                        {expandedClient === client.id && client.preferences && (\r\n                            <tr className=\"preferences-details\">\r\n                                <td colSpan=\"3\">\r\n                                    {client.preferences.length > 0 ? (\r\n                                        client.preferences.map((pref, index) => (\r\n                                            <div key={index} className=\"preference-item\">\r\n                                                <h4>Предпочтение #{index + 1}</h4>\r\n                                                <div className=\"preference-details\">\r\n                                                    <div><strong>Город:</strong> {pref.city || 'не указан'}</div>\r\n                                                    <div><strong>Район:</strong> {pref.district || 'не указан'}</div>\r\n                                                    <div><strong>Улица:</strong> {pref.street || 'не указана'}</div>\r\n                                                    <div><strong>Площадь:</strong> {pref.minArea || '?'} - {pref.maxArea || '?'} м²</div>\r\n                                                    <div><strong>Цена:</strong> {pref.minPrice || '?'} - {pref.maxPrice || '?'}</div>\r\n                                                    <div><strong>Комнат:</strong> {pref.roomsCount || 'не указано'}</div>\r\n                                                    <div><strong>Балкон:</strong> {pref.hasBalcony ? 'да' : 'нет'}</div>\r\n                                                    <div><strong>Животные:</strong> {pref.allowPets ? 'разрешены' : 'не разрешены'}</div>\r\n                                                    <div><strong>Примечания:</strong> {pref.additionalNotes || 'нет'}</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))\r\n                                    ) : (\r\n                                        <div>Нет данных о предпочтениях</div>\r\n                                    )}\r\n                                </td>\r\n                            </tr>\r\n                        )}\r\n                    </React.Fragment>\r\n                ))}\r\n                </tbody>\r\n            </table>\r\n\r\n            {/* Модальное окно для редактирования клиента */}\r\n            {editingClient && (\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <h3>Редактировать клиента</h3>\r\n                        <form onSubmit={handleUpdateClient}>\r\n                            <label>Имя:\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={editingClient.authUser.firstname}\r\n                                    onChange={(e) =>\r\n                                        setEditingClient({\r\n                                            ...editingClient,\r\n                                            authUser: {\r\n                                                ...editingClient.authUser,\r\n                                                firstname: e.target.value,\r\n                                            },\r\n                                        })\r\n                                    }\r\n                                />\r\n                            </label>\r\n                            <label>Фамилия:\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={editingClient.authUser.lastname}\r\n                                    onChange={(e) =>\r\n                                        setEditingClient({\r\n                                            ...editingClient,\r\n                                            authUser: {\r\n                                                ...editingClient.authUser,\r\n                                                lastname: e.target.value,\r\n                                            },\r\n                                        })\r\n                                    }\r\n                                />\r\n                            </label>\r\n                            <label>Email:\r\n                                <input\r\n                                    type=\"email\"\r\n                                    value={editingClient.authUser.email}\r\n                                    onChange={(e) =>\r\n                                        setEditingClient({\r\n                                            ...editingClient,\r\n                                            authUser: {\r\n                                                ...editingClient.authUser,\r\n                                                email: e.target.value,\r\n                                            },\r\n                                        })\r\n                                    }\r\n                                />\r\n                            </label>\r\n                            <label>Пароль:\r\n                                <input\r\n                                    type=\"password\"\r\n                                    value={editingClient.authUser.password || ''}\r\n                                    onChange={(e) =>\r\n                                        setEditingClient({\r\n                                            ...editingClient,\r\n                                            authUser: {\r\n                                                ...editingClient.authUser,\r\n                                                password: e.target.value,\r\n                                            },\r\n                                        })\r\n                                    }\r\n                                />\r\n                            </label>\r\n\r\n\r\n                            <label className=\"status-update\">\r\n                                <label>Новый статус:</label>\r\n                                <select\r\n                                    value={statusUpdates[request.requestId] || \"\"}\r\n                                    onChange={(e) =>\r\n                                        handleStatusChange(request.requestId, e.target.value)\r\n                                    }\r\n                                >\r\n                                    <option value=\"\">-- Выберите статус --</option>\r\n                                    {statusList.map((status) => (\r\n                                        <option key={status} value={status}>\r\n                                            {status}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </label>\r\n\r\n                                <div className=\"modal-buttons\">\r\n                                <button type=\"submit\">Сохранить</button>\r\n                                <button type=\"button\" onClick={() => setEditingClient(null)}>Отмена</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ClientList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}