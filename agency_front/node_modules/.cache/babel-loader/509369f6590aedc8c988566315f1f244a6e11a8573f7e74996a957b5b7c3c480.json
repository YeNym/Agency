{"ast":null,"code":"var _jsxFileName = \"D:\\\\agency_front\\\\src\\\\components\\\\ClientList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getClientsByManager, getHousingPreferences, updateClient } from '../api/ClientService';\nimport \"../styles/ClientList.css\";\nimport { getRequestsByManager } from \"../api/accessProperty\";\nimport { getPropertyEnums } from \"../api/propertyService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ClientList = ({\n  managerId\n}) => {\n  _s();\n  const [clients, setClients] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [expandedClient, setExpandedClient] = useState(null);\n  const [editingClient, setEditingClient] = useState(null);\n  const [statusUpdates, setStatusUpdates] = useState({});\n  const [requests, setRequests] = useState([]);\n  const [statusList, setStatusList] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const clientsData = await getClientsByManager(managerId);\n        const clientsWithPreferences = clientsData.map(client => ({\n          ...client,\n          preferences: null,\n          loadingPreferences: false\n        }));\n        setClients(clientsWithPreferences);\n      } catch (err) {\n        setError('Ошибка при загрузке клиентов');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (managerId) {\n      fetchData();\n    }\n  }, [managerId]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [requestData, enums] = await Promise.all([getRequestsByManager(managerId), getPropertyEnums()]);\n        setRequests(requestData);\n        console.log(requestData);\n        setStatusList(enums.accessLevel || []);\n      } catch (error) {\n        console.error(\"Ошибка при загрузке заявок или статусов:\", error);\n      }\n    };\n    fetchData();\n  }, [managerId]);\n  const loadPreferences = async clientId => {\n    setClients(prevClients => prevClients.map(client => client.id === clientId ? {\n      ...client,\n      loadingPreferences: true\n    } : client));\n    try {\n      const preferences = await getHousingPreferences(clientId);\n      setClients(prevClients => prevClients.map(client => client.id === clientId ? {\n        ...client,\n        preferences,\n        loadingPreferences: false\n      } : client));\n    } catch (err) {\n      setClients(prevClients => prevClients.map(client => client.id === clientId ? {\n        ...client,\n        preferences: [],\n        loadingPreferences: false\n      } : client));\n    }\n  };\n  const toggleClientPreferences = clientId => {\n    if (expandedClient === clientId) {\n      setExpandedClient(null);\n    } else {\n      setExpandedClient(clientId);\n      const client = clients.find(c => c.id === clientId);\n      if (!client.preferences) {\n        loadPreferences(clientId);\n      }\n    }\n  };\n  const handleUpdateClient = async e => {\n    e.preventDefault();\n    try {\n      const updated = await updateClient(editingClient.id, editingClient);\n      setClients(prev => prev.map(c => c.id === updated.id ? {\n        ...updated,\n        preferences: c.preferences\n      } : c));\n      setEditingClient(null);\n    } catch (err) {\n      alert('Ошибка при обновлении клиента');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u043E\\u0432...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"clients-preferences-table\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442\\u044B \\u0438 \\u0438\\u0445 \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u041F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u044F \\u043F\\u043E \\u0436\\u0438\\u043B\\u044C\\u044E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: clients.map(client => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"client-row\",\n            onClick: () => toggleClientPreferences(client.id),\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 38\n                }, this), \" \", client.phone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u041F\\u0430\\u0441\\u043F\\u043E\\u0440\\u0442:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 38\n                }, this), \" \", client.passport || 'не указан']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0423\\u0440\\u043E\\u0432\\u0435\\u043D\\u044C \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 38\n                }, this), \" \", client.accessLevel]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0418\\u043C\\u044F:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 38\n                }, this), \" \", client.authUser.firstname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 38\n                }, this), \" \", client.authUser.lastname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 38\n                }, this), \" \", client.authUser.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: client.loadingPreferences ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u0439...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: client.preferences ? `Показано ${client.preferences.length} предпочтений` : 'Нажмите для загрузки предпочтений'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.stopPropagation();\n                  setEditingClient({\n                    ...client\n                  });\n                },\n                children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this), expandedClient === client.id && client.preferences && /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"preferences-details\",\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"3\",\n              children: client.preferences.length > 0 ? client.preferences.map((pref, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"preference-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: [\"\\u041F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u0435 #\", index + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"preference-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0413\\u043E\\u0440\\u043E\\u0434:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 58\n                    }, this), \" \", pref.city || 'не указан']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0420\\u0430\\u0439\\u043E\\u043D:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 58\n                    }, this), \" \", pref.district || 'не указан']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0423\\u043B\\u0438\\u0446\\u0430:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 58\n                    }, this), \" \", pref.street || 'не указана']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u041F\\u043B\\u043E\\u0449\\u0430\\u0434\\u044C:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 58\n                    }, this), \" \", pref.minArea || '?', \" - \", pref.maxArea || '?', \" \\u043C\\xB2\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0426\\u0435\\u043D\\u0430:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 58\n                    }, this), \" \", pref.minPrice || '?', \" - \", pref.maxPrice || '?']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u041A\\u043E\\u043C\\u043D\\u0430\\u0442:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 58\n                    }, this), \" \", pref.roomsCount || 'не указано']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0411\\u0430\\u043B\\u043A\\u043E\\u043D:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 58\n                    }, this), \" \", pref.hasBalcony ? 'да' : 'нет']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0416\\u0438\\u0432\\u043E\\u0442\\u043D\\u044B\\u0435:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 58\n                    }, this), \" \", pref.allowPets ? 'разрешены' : 'не разрешены']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u0447\\u0430\\u043D\\u0438\\u044F:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 58\n                    }, this), \" \", pref.additionalNotes || 'нет']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 49\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 45\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043E \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u044F\\u0445\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 29\n          }, this)]\n        }, client.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this), editingClient && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUpdateClient,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"\\u0418\\u043C\\u044F:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editingClient.authUser.firstname,\n              onChange: e => setEditingClient({\n                ...editingClient,\n                authUser: {\n                  ...editingClient.authUser,\n                  firstname: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editingClient.authUser.lastname,\n              onChange: e => setEditingClient({\n                ...editingClient,\n                authUser: {\n                  ...editingClient.authUser,\n                  lastname: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: editingClient.authUser.email,\n              onChange: e => setEditingClient({\n                ...editingClient,\n                authUser: {\n                  ...editingClient.authUser,\n                  email: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: editingClient.authUser.password || '',\n              onChange: e => setEditingClient({\n                ...editingClient,\n                authUser: {\n                  ...editingClient.authUser,\n                  password: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0443\\u0440\\u043E\\u0432\\u0435\\u043D\\u044C \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: editingClient.accessLevel || \"\",\n            onChange: e => setEditingClient({\n              ...editingClient,\n              accessLevel: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- \\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0443\\u0440\\u043E\\u0432\\u0435\\u043D\\u044C --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 33\n            }, this), statusList.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: status,\n              children: status\n            }, status, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 37\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setEditingClient(null),\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 9\n  }, this);\n};\n_s(ClientList, \"85Rqlbi3lDPPOYMc/+SpuY4Izfg=\");\n_c = ClientList;\nexport default ClientList;\nvar _c;\n$RefreshReg$(_c, \"ClientList\");","map":{"version":3,"names":["React","useEffect","useState","getClientsByManager","getHousingPreferences","updateClient","getRequestsByManager","getPropertyEnums","jsxDEV","_jsxDEV","ClientList","managerId","_s","clients","setClients","loading","setLoading","error","setError","expandedClient","setExpandedClient","editingClient","setEditingClient","statusUpdates","setStatusUpdates","requests","setRequests","statusList","setStatusList","fetchData","clientsData","clientsWithPreferences","map","client","preferences","loadingPreferences","err","requestData","enums","Promise","all","console","log","accessLevel","loadPreferences","clientId","prevClients","id","toggleClientPreferences","find","c","handleUpdateClient","e","preventDefault","updated","prev","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","onClick","phone","passport","authUser","firstname","lastname","email","length","stopPropagation","colSpan","pref","index","city","district","street","minArea","maxArea","minPrice","maxPrice","roomsCount","hasBalcony","allowPets","additionalNotes","onSubmit","type","value","onChange","target","password","status","_c","$RefreshReg$"],"sources":["D:/agency_front/src/components/ClientList.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n    getClientsByManager,\r\n    getHousingPreferences,\r\n    updateClient\r\n} from '../api/ClientService';\r\nimport \"../styles/ClientList.css\";\r\nimport {getRequestsByManager} from \"../api/accessProperty\";\r\nimport {getPropertyEnums} from \"../api/propertyService\";\r\n\r\nconst ClientList = ({ managerId }) => {\r\n    const [clients, setClients] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [expandedClient, setExpandedClient] = useState(null);\r\n    const [editingClient, setEditingClient] = useState(null);\r\n    const [statusUpdates, setStatusUpdates] = useState({});\r\n    const [requests, setRequests] = useState([]);\r\n    const [statusList, setStatusList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const clientsData = await getClientsByManager(managerId);\r\n                const clientsWithPreferences = clientsData.map(client => ({\r\n                    ...client,\r\n                    preferences: null,\r\n                    loadingPreferences: false\r\n                }));\r\n                setClients(clientsWithPreferences);\r\n            } catch (err) {\r\n                setError('Ошибка при загрузке клиентов');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (managerId) {\r\n            fetchData();\r\n        }\r\n    }, [managerId]);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const [requestData, enums] = await Promise.all([\r\n                    getRequestsByManager(managerId),\r\n                    getPropertyEnums()\r\n                ]);\r\n                setRequests(requestData);\r\n                console.log(requestData);\r\n                setStatusList(enums.accessLevel || []);\r\n            } catch (error) {\r\n                console.error(\"Ошибка при загрузке заявок или статусов:\", error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [managerId]);\r\n\r\n    const loadPreferences = async (clientId) => {\r\n        setClients(prevClients =>\r\n            prevClients.map(client =>\r\n                client.id === clientId\r\n                    ? { ...client, loadingPreferences: true }\r\n                    : client\r\n            )\r\n        );\r\n\r\n        try {\r\n            const preferences = await getHousingPreferences(clientId);\r\n            setClients(prevClients =>\r\n                prevClients.map(client =>\r\n                    client.id === clientId\r\n                        ? { ...client, preferences, loadingPreferences: false }\r\n                        : client\r\n                )\r\n            );\r\n        } catch (err) {\r\n            setClients(prevClients =>\r\n                prevClients.map(client =>\r\n                    client.id === clientId\r\n                        ? { ...client, preferences: [], loadingPreferences: false }\r\n                        : client\r\n                )\r\n            );\r\n        }\r\n    };\r\n\r\n    const toggleClientPreferences = (clientId) => {\r\n        if (expandedClient === clientId) {\r\n            setExpandedClient(null);\r\n        } else {\r\n            setExpandedClient(clientId);\r\n            const client = clients.find(c => c.id === clientId);\r\n            if (!client.preferences) {\r\n                loadPreferences(clientId);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleUpdateClient = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const updated = await updateClient(editingClient.id, editingClient);\r\n            setClients(prev =>\r\n                prev.map(c =>\r\n                    c.id === updated.id ? { ...updated, preferences: c.preferences } : c\r\n                )\r\n            );\r\n            setEditingClient(null);\r\n        } catch (err) {\r\n            alert('Ошибка при обновлении клиента');\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"loading\">Загрузка клиентов...</div>;\r\n    if (error) return <div className=\"error\">{error}</div>;\r\n\r\n    return (\r\n        <div className=\"clients-preferences-table\">\r\n            <h2>Клиенты и их предпочтения</h2>\r\n            <table>\r\n                <thead>\r\n                <tr>\r\n                    <th>Информация о клиенте</th>\r\n                    <th>Предпочтения по жилью</th>\r\n                    <th>Действия</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {clients.map(client => (\r\n                    <React.Fragment key={client.id}>\r\n                        <tr\r\n                            className=\"client-row\"\r\n                            onClick={() => toggleClientPreferences(client.id)}\r\n                        >\r\n                            <td>\r\n                                <div><strong>Телефон:</strong> {client.phone}</div>\r\n                                <div><strong>Паспорт:</strong> {client.passport || 'не указан'}</div>\r\n                                <div><strong>Уровень доступа:</strong> {client.accessLevel}</div>\r\n                                <div><strong>Имя:</strong> {client.authUser.firstname}</div>\r\n                                <div><strong>Фамилия:</strong> {client.authUser.lastname}</div>\r\n                                <div><strong>Email:</strong> {client.authUser.email}</div>\r\n                            </td>\r\n                            <td>\r\n                                {client.loadingPreferences ? (\r\n                                    <div>Загрузка предпочтений...</div>\r\n                                ) : (\r\n                                    <div>\r\n                                        {client.preferences\r\n                                            ? `Показано ${client.preferences.length} предпочтений`\r\n                                            : 'Нажмите для загрузки предпочтений'}\r\n                                    </div>\r\n                                )}\r\n                            </td>\r\n                            <td>\r\n                                <button\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        setEditingClient({ ...client });\r\n                                    }}\r\n                                >\r\n                                    Редактировать\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                        {expandedClient === client.id && client.preferences && (\r\n                            <tr className=\"preferences-details\">\r\n                                <td colSpan=\"3\">\r\n                                    {client.preferences.length > 0 ? (\r\n                                        client.preferences.map((pref, index) => (\r\n                                            <div key={index} className=\"preference-item\">\r\n                                                <h4>Предпочтение #{index + 1}</h4>\r\n                                                <div className=\"preference-details\">\r\n                                                    <div><strong>Город:</strong> {pref.city || 'не указан'}</div>\r\n                                                    <div><strong>Район:</strong> {pref.district || 'не указан'}</div>\r\n                                                    <div><strong>Улица:</strong> {pref.street || 'не указана'}</div>\r\n                                                    <div><strong>Площадь:</strong> {pref.minArea || '?'} - {pref.maxArea || '?'} м²</div>\r\n                                                    <div><strong>Цена:</strong> {pref.minPrice || '?'} - {pref.maxPrice || '?'}</div>\r\n                                                    <div><strong>Комнат:</strong> {pref.roomsCount || 'не указано'}</div>\r\n                                                    <div><strong>Балкон:</strong> {pref.hasBalcony ? 'да' : 'нет'}</div>\r\n                                                    <div><strong>Животные:</strong> {pref.allowPets ? 'разрешены' : 'не разрешены'}</div>\r\n                                                    <div><strong>Примечания:</strong> {pref.additionalNotes || 'нет'}</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))\r\n                                    ) : (\r\n                                        <div>Нет данных о предпочтениях</div>\r\n                                    )}\r\n                                </td>\r\n                            </tr>\r\n                        )}\r\n                    </React.Fragment>\r\n                ))}\r\n                </tbody>\r\n            </table>\r\n\r\n            {/* Модальное окно для редактирования клиента */}\r\n            {editingClient && (\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <h3>Редактировать клиента</h3>\r\n                        <form onSubmit={handleUpdateClient}>\r\n                            <label>Имя:\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={editingClient.authUser.firstname}\r\n                                    onChange={(e) =>\r\n                                        setEditingClient({\r\n                                            ...editingClient,\r\n                                            authUser: {\r\n                                                ...editingClient.authUser,\r\n                                                firstname: e.target.value,\r\n                                            },\r\n                                        })\r\n                                    }\r\n                                />\r\n                            </label>\r\n                            <label>Фамилия:\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={editingClient.authUser.lastname}\r\n                                    onChange={(e) =>\r\n                                        setEditingClient({\r\n                                            ...editingClient,\r\n                                            authUser: {\r\n                                                ...editingClient.authUser,\r\n                                                lastname: e.target.value,\r\n                                            },\r\n                                        })\r\n                                    }\r\n                                />\r\n                            </label>\r\n                            <label>Email:\r\n                                <input\r\n                                    type=\"email\"\r\n                                    value={editingClient.authUser.email}\r\n                                    onChange={(e) =>\r\n                                        setEditingClient({\r\n                                            ...editingClient,\r\n                                            authUser: {\r\n                                                ...editingClient.authUser,\r\n                                                email: e.target.value,\r\n                                            },\r\n                                        })\r\n                                    }\r\n                                />\r\n                            </label>\r\n                            <label>Пароль:\r\n                                <input\r\n                                    type=\"password\"\r\n                                    value={editingClient.authUser.password || ''}\r\n                                    onChange={(e) =>\r\n                                        setEditingClient({\r\n                                            ...editingClient,\r\n                                            authUser: {\r\n                                                ...editingClient.authUser,\r\n                                                password: e.target.value,\r\n                                            },\r\n                                        })\r\n                                    }\r\n                                />\r\n                            </label>\r\n\r\n\r\n                            <label>Новый уровень доступа:</label>\r\n                            <select\r\n                                value={editingClient.accessLevel || \"\"}\r\n                                onChange={(e) =>\r\n                                    setEditingClient({\r\n                                        ...editingClient,\r\n                                        accessLevel: e.target.value\r\n                                    })\r\n                                }\r\n                            >\r\n                                <option value=\"\">-- Выберите уровень --</option>\r\n                                {statusList.map((status) => (\r\n                                    <option key={status} value={status}>\r\n                                        {status}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n\r\n\r\n                                <div className=\"modal-buttons\">\r\n                                <button type=\"submit\">Сохранить</button>\r\n                                <button type=\"button\" onClick={() => setEditingClient(null)}>Отмена</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ClientList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}