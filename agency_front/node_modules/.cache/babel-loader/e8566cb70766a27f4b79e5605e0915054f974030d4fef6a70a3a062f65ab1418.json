{"ast":null,"code":"var _jsxFileName = \"D:\\\\agency_front\\\\src\\\\components\\\\CreateHousingPreferences.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { createHousingPreferences } from '../api/ClientService';\nimport { getClientsByManager } from '../api/ClientService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateHousingPreferences = ({\n  managerId\n}) => {\n  _s();\n  const [clients, setClients] = useState([]);\n  const [selectedClientId, setSelectedClientId] = useState('');\n  const [formData, setFormData] = useState({\n    location: '',\n    priceMin: '',\n    priceMax: '',\n    rooms: '',\n    area: ''\n  });\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    const fetchClients = async () => {\n      try {\n        const data = await getClientsByManager(managerId);\n        setClients(data);\n      } catch (error) {\n        console.error('Ошибка при загрузке клиентов:', error);\n      }\n    };\n    fetchClients();\n  }, [managerId]);\n  const handleClientChange = e => {\n    setSelectedClientId(e.target.value);\n  };\n  const handleChange = e => {\n    setFormData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!selectedClientId) {\n      setMessage('Пожалуйста, выберите клиента.');\n      return;\n    }\n    try {\n      await createHousingPreferences(selectedClientId, formData);\n      setMessage('Предпочтения успешно созданы!');\n    } catch (error) {\n      console.error('Ошибка при создании предпочтений:', error);\n      setMessage('Ошибка при создании предпочтений');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u044F \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430:\", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedClientId,\n        onChange: handleClientChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- \\u0432\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), clients.map(client => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: client.id,\n          children: `${client.lastName} ${client.firstName}`\n        }, client.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u041B\\u043E\\u043A\\u0430\\u0446\\u0438\\u044F:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"location\",\n          value: formData.location,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u041C\\u0438\\u043D. \\u0446\\u0435\\u043D\\u0430:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"priceMin\",\n          value: formData.priceMin,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u041C\\u0430\\u043A\\u0441. \\u0446\\u0435\\u043D\\u0430:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"priceMax\",\n          value: formData.priceMax,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u041A\\u043E\\u043C\\u043D\\u0430\\u0442\\u044B:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"rooms\",\n          value: formData.rooms,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u041F\\u043B\\u043E\\u0449\\u0430\\u0434\\u044C:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"area\",\n          value: formData.area,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(CreateHousingPreferences, \"NMCAMDiy5YSGDpsUj0EK7xN1lzo=\");\n_c = CreateHousingPreferences;\nexport default CreateHousingPreferences;\nvar _c;\n$RefreshReg$(_c, \"CreateHousingPreferences\");","map":{"version":3,"names":["React","useEffect","useState","createHousingPreferences","getClientsByManager","jsxDEV","_jsxDEV","CreateHousingPreferences","managerId","_s","clients","setClients","selectedClientId","setSelectedClientId","formData","setFormData","location","priceMin","priceMax","rooms","area","message","setMessage","fetchClients","data","error","console","handleClientChange","e","target","value","handleChange","prev","name","handleSubmit","preventDefault","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","map","client","id","lastName","firstName","onSubmit","type","_c","$RefreshReg$"],"sources":["D:/agency_front/src/components/CreateHousingPreferences.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { createHousingPreferences } from '../api/ClientService';\r\nimport { getClientsByManager } from '../api/ClientService';\r\n\r\nconst CreateHousingPreferences = ({ managerId }) => {\r\n    const [clients, setClients] = useState([]);\r\n    const [selectedClientId, setSelectedClientId] = useState('');\r\n    const [formData, setFormData] = useState({\r\n        location: '',\r\n        priceMin: '',\r\n        priceMax: '',\r\n        rooms: '',\r\n        area: ''\r\n    });\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchClients = async () => {\r\n            try {\r\n                const data = await getClientsByManager(managerId);\r\n                setClients(data);\r\n            } catch (error) {\r\n                console.error('Ошибка при загрузке клиентов:', error);\r\n            }\r\n        };\r\n\r\n        fetchClients();\r\n    }, [managerId]);\r\n\r\n    const handleClientChange = (e) => {\r\n        setSelectedClientId(e.target.value);\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!selectedClientId) {\r\n            setMessage('Пожалуйста, выберите клиента.');\r\n            return;\r\n        }\r\n        try {\r\n            await createHousingPreferences(selectedClientId, formData);\r\n            setMessage('Предпочтения успешно созданы!');\r\n        } catch (error) {\r\n            console.error('Ошибка при создании предпочтений:', error);\r\n            setMessage('Ошибка при создании предпочтений');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Создать предпочтения клиента</h2>\r\n\r\n            <label>\r\n                Выберите клиента:\r\n                <select value={selectedClientId} onChange={handleClientChange}>\r\n                    <option value=\"\">-- выберите --</option>\r\n                    {clients.map((client) => (\r\n                        <option key={client.id} value={client.id}>\r\n                            {`${client.lastName} ${client.firstName}`}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </label>\r\n\r\n\r\n                <form onSubmit={handleSubmit}>\r\n                    <label>\r\n                        Локация:\r\n                        <input type=\"text\" name=\"location\" value={formData.location} onChange={handleChange} />\r\n                    </label>\r\n\r\n                    <label>\r\n                        Мин. цена:\r\n                        <input type=\"number\" name=\"priceMin\" value={formData.priceMin} onChange={handleChange} />\r\n                    </label>\r\n\r\n                    <label>\r\n                        Макс. цена:\r\n                        <input type=\"number\" name=\"priceMax\" value={formData.priceMax} onChange={handleChange} />\r\n                    </label>\r\n\r\n                    <label>\r\n                        Комнаты:\r\n                        <input type=\"number\" name=\"rooms\" value={formData.rooms} onChange={handleChange} />\r\n                    </label>\r\n\r\n                    <label>\r\n                        Площадь:\r\n                        <input type=\"number\" name=\"area\" value={formData.area} onChange={handleChange} />\r\n                    </label>\r\n\r\n                    <button type=\"submit\">Сохранить</button>\r\n                </form>\r\n\r\n\r\n            {message && <p>{message}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateHousingPreferences;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}