{"ast":null,"code":"var _jsxFileName = \"D:\\\\agency_front\\\\src\\\\components\\\\ClientList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { getClientsByManager, getHousingPreferences, updateClient, deleteClient, updatePreferences } from '../api/ClientService';\nimport { getRequestsByManager } from '../api/accessProperty';\nimport { getPropertyEnums } from '../api/propertyService';\nimport \"../styles/ClientList.css\";\nimport PreferenceEditModal from \"./Layout/PreferenceEditModal\";\nimport { FiEdit, FiTrash2, FiChevronDown, FiChevronUp, FiUser, FiPhone, FiMail, FiCreditCard, FiLock, FiHome, FiMapPin, FiDollarSign, FiLayers, FiSun, FiHeart } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ClientList = ({\n  managerId\n}) => {\n  _s();\n  const [clients, setClients] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [expandedClientId, setExpandedClientId] = useState(null);\n  const [editingClient, setEditingClient] = useState(null);\n  const [statusList, setStatusList] = useState([]);\n  const [editingPref, setEditingPref] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [preferencesData, setPreferencesData] = useState(null);\n  const handleEditClick = preference => {\n    setPreferencesData(prev => ({\n      ...preference,\n      clientId: expandedClientId\n    }));\n    setIsModalOpen(true);\n  };\n  useEffect(() => {\n    const fetchClients = async () => {\n      try {\n        const clientData = await getClientsByManager(managerId);\n        const enriched = clientData.map(c => ({\n          ...c,\n          preferences: null,\n          loadingPreferences: false\n        }));\n        setClients(enriched);\n      } catch (err) {\n        setError('Ошибка при загрузке клиентов');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (managerId) fetchClients();\n  }, [managerId]);\n  useEffect(() => {\n    const fetchEnums = async () => {\n      try {\n        const [_, enums] = await Promise.all([getRequestsByManager(managerId), getPropertyEnums()]);\n        setStatusList(enums.accessLevel || []);\n      } catch (err) {\n        console.error('Ошибка при загрузке статусов:', err);\n      }\n    };\n    fetchEnums();\n  }, [managerId]);\n  const handleDeleteClient = async clientId => {\n    if (!window.confirm('Вы уверены, что хотите удалить этого клиента?')) {\n      return;\n    }\n    try {\n      await deleteClient(clientId);\n      setClients(prevClients => prevClients.filter(client => client.id !== clientId));\n    } catch (error) {\n      console.error('Ошибка при удалении клиента:', error);\n      if (error.response) {\n        alert('Не удалось удалить клиента. Ошибка сервера.');\n      } else if (error.request) {\n        alert('Не удалось удалить клиента. Ошибка с запросом.');\n      } else {\n        alert('Не удалось удалить клиента. Попробуйте позже.');\n      }\n    }\n  };\n  const loadPreferences = useCallback(async clientId => {\n    setClients(prev => prev.map(c => c.id === clientId ? {\n      ...c,\n      loadingPreferences: true\n    } : c));\n    try {\n      const prefs = await getHousingPreferences(clientId);\n      setClients(prev => prev.map(c => c.id === clientId ? {\n        ...c,\n        preferences: prefs,\n        loadingPreferences: false\n      } : c));\n    } catch {\n      setClients(prev => prev.map(c => c.id === clientId ? {\n        ...c,\n        preferences: [],\n        loadingPreferences: false\n      } : c));\n    }\n  }, []);\n  const togglePreferences = clientId => {\n    if (expandedClientId === clientId) {\n      setExpandedClientId(null);\n    } else {\n      setExpandedClientId(clientId);\n      const client = clients.find(c => c.id === clientId);\n      if (!client.preferences) loadPreferences(clientId);\n    }\n  };\n  const handleEditField = (fieldPath, value) => {\n    const updated = {\n      ...editingClient\n    };\n    if (fieldPath.startsWith(\"authUser.\")) {\n      updated.authUser = {\n        ...updated.authUser,\n        [fieldPath.split(\".\")[1]]: value\n      };\n    } else {\n      updated[fieldPath] = value;\n    }\n    setEditingClient(updated);\n  };\n  const handleUpdateClient = async e => {\n    e.preventDefault();\n    const dto = {\n      accessLevel: editingClient.accessLevel,\n      phone: editingClient.phone,\n      passport: editingClient.passport,\n      email: editingClient.authUser.email,\n      firstname: editingClient.authUser.firstname,\n      lastname: editingClient.authUser.lastname,\n      password: editingClient.authUser.password\n    };\n    try {\n      const updated = await updateClient(editingClient.id, dto);\n      setClients(prev => prev.map(c => c.id === updated.id ? {\n        ...updated,\n        preferences: c.preferences\n      } : c));\n      setEditingClient(null);\n    } catch (err) {\n      alert('Ошибка при обновлении клиента');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u043E\\u0432...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 9\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => window.location.reload(),\n      className: \"retry-button\",\n      children: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043D\\u043E\\u0432\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"client-management-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"page-title\",\n        children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\\u043C\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-subtitle\",\n        children: \"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440 \\u0438 \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438 \\u043E \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\\u0445 \\u0438 \\u0438\\u0445 \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u044F\\u0445\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"clients-table-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"clients-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u041F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: clients.map(client => {\n              var _client$accessLevel;\n              return /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: `client-row ${expandedClientId === client.id ? 'expanded' : ''}`,\n                  onClick: () => togglePreferences(client.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"client-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"client-avatar\",\n                      children: /*#__PURE__*/_jsxDEV(FiUser, {\n                        size: 24\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 191,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"client-name\",\n                      children: [client.authUser.firstname, \" \", client.authUser.lastname, /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `access-level ${(_client$accessLevel = client.accessLevel) === null || _client$accessLevel === void 0 ? void 0 : _client$accessLevel.toLowerCase()}`,\n                        children: client.accessLevel\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 195,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"contact-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"contact-item\",\n                      children: [/*#__PURE__*/_jsxDEV(FiMail, {\n                        className: \"icon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 202,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: client.authUser.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 203,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"contact-item\",\n                      children: [/*#__PURE__*/_jsxDEV(FiPhone, {\n                        className: \"icon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 206,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: client.phone || 'не указан'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 207,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"preferences-info\",\n                    children: client.loadingPreferences ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"loading-indicator\",\n                      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 45\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"preferences-summary\",\n                      children: [client.preferences ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [client.preferences.length, \" \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u0439\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 216,\n                        columnNumber: 53\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u0434\\u043B\\u044F \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 53\n                      }, this), expandedClientId === client.id ? /*#__PURE__*/_jsxDEV(FiChevronUp, {\n                        className: \"toggle-icon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 221,\n                        columnNumber: 53\n                      }, this) : /*#__PURE__*/_jsxDEV(FiChevronDown, {\n                        className: \"toggle-icon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 223,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"edit-button\",\n                      onClick: e => {\n                        e.stopPropagation();\n                        setEditingClient({\n                          ...client\n                        });\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(FiEdit, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 236,\n                        columnNumber: 45\n                      }, this), \" \\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"delete-button\",\n                      onClick: e => {\n                        e.stopPropagation();\n                        handleDeleteClient(client.id);\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(FiTrash2, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 245,\n                        columnNumber: 45\n                      }, this), \" \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 33\n                }, this), expandedClientId === client.id && client.preferences && /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"preferences-details-row\",\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"4\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"preferences-container\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"preferences-header\",\n                        children: [/*#__PURE__*/_jsxDEV(FiHeart, {\n                          className: \"header-icon\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 255,\n                          columnNumber: 53\n                        }, this), \"\\u0416\\u0438\\u043B\\u0438\\u0449\\u043D\\u044B\\u0435 \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u044F\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 254,\n                        columnNumber: 49\n                      }, this), client.preferences.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"preferences-grid\",\n                        children: client.preferences.map((pref, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"preference-card\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"preference-card-header\",\n                            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                              children: [\"\\u041F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u0435 #\", index + 1]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 264,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                              className: \"edit-pref-button\",\n                              onClick: () => handleEditClick(pref),\n                              children: [/*#__PURE__*/_jsxDEV(FiEdit, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 269,\n                                columnNumber: 73\n                              }, this), \" \\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 265,\n                              columnNumber: 69\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 263,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"preference-details\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"detail-row\",\n                              children: [/*#__PURE__*/_jsxDEV(FiMapPin, {\n                                className: \"detail-icon\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 274,\n                                columnNumber: 73\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: \"\\u041B\\u043E\\u043A\\u0430\\u0446\\u0438\\u044F:\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 275,\n                                  columnNumber: 79\n                                }, this), \" \", pref.city || 'не указан', \", \", pref.district || 'не указан', \", \", pref.street || 'не указана']\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 275,\n                                columnNumber: 73\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 273,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"detail-row\",\n                              children: [/*#__PURE__*/_jsxDEV(FiLayers, {\n                                className: \"detail-icon\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 278,\n                                columnNumber: 73\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: \"\\u041F\\u043B\\u043E\\u0449\\u0430\\u0434\\u044C:\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 279,\n                                  columnNumber: 79\n                                }, this), \" \", pref.minArea || '?', \" - \", pref.maxArea || '?', \" \\u043C\\xB2\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 279,\n                                columnNumber: 73\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 277,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"detail-row\",\n                              children: [/*#__PURE__*/_jsxDEV(FiDollarSign, {\n                                className: \"detail-icon\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 282,\n                                columnNumber: 73\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: \"\\u0426\\u0435\\u043D\\u0430:\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 283,\n                                  columnNumber: 79\n                                }, this), \" \", pref.minPrice || '?', \" - \", pref.maxPrice || '?', \" \\u0440\\u0443\\u0431.\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 283,\n                                columnNumber: 73\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 281,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"detail-row\",\n                              children: [/*#__PURE__*/_jsxDEV(FiHome, {\n                                className: \"detail-icon\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 286,\n                                columnNumber: 73\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: \"\\u041A\\u043E\\u043C\\u043D\\u0430\\u0442:\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 287,\n                                  columnNumber: 79\n                                }, this), \" \", pref.roomsCount || 'не указано']\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 287,\n                                columnNumber: 73\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 285,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"detail-row\",\n                              children: [/*#__PURE__*/_jsxDEV(FiSun, {\n                                className: \"detail-icon\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 290,\n                                columnNumber: 73\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: \"\\u0411\\u0430\\u043B\\u043A\\u043E\\u043D:\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 291,\n                                  columnNumber: 79\n                                }, this), \" \", pref.hasBalcony ? 'да' : 'нет']\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 291,\n                                columnNumber: 73\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 289,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"detail-row\",\n                              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: \"\\u0416\\u0438\\u0432\\u043E\\u0442\\u043D\\u044B\\u0435:\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 294,\n                                  columnNumber: 79\n                                }, this), \" \", pref.allowPets ? 'разрешены' : 'нет']\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 294,\n                                columnNumber: 73\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 293,\n                              columnNumber: 69\n                            }, this), pref.additionalNotes && /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"detail-row notes\",\n                              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u0447\\u0430\\u043D\\u0438\\u044F:\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 298,\n                                  columnNumber: 83\n                                }, this), \" \", pref.additionalNotes]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 298,\n                                columnNumber: 77\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 297,\n                              columnNumber: 73\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 272,\n                            columnNumber: 65\n                          }, this)]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 262,\n                          columnNumber: 61\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 53\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"no-preferences\",\n                        children: \"\\u041D\\u0435\\u0442 \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0451\\u043D\\u043D\\u044B\\u0445 \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0435\\u043D\\u0438\\u0439\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 306,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 37\n                }, this)]\n              }, client.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 29\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }, this), editingClient && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-client-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-button\",\n            onClick: () => setEditingClient(null),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUpdateClient,\n          className: \"client-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"section-title\",\n              children: \"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [/*#__PURE__*/_jsxDEV(FiUser, {\n                    className: \"input-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 45\n                  }, this), \" \\u0418\\u043C\\u044F\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingClient.authUser.firstname,\n                  onChange: e => handleEditField(\"authUser.firstname\", e.target.value),\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [/*#__PURE__*/_jsxDEV(FiUser, {\n                    className: \"input-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 45\n                  }, this), \" \\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingClient.authUser.lastname,\n                  onChange: e => handleEditField(\"authUser.lastname\", e.target.value),\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"section-title\",\n              children: \"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [/*#__PURE__*/_jsxDEV(FiMail, {\n                    className: \"input-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 45\n                  }, this), \" Email\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  value: editingClient.authUser.email,\n                  onChange: e => handleEditField(\"authUser.email\", e.target.value),\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [/*#__PURE__*/_jsxDEV(FiPhone, {\n                    className: \"input-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 45\n                  }, this), \" \\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingClient.phone || \"\",\n                  onChange: e => handleEditField(\"phone\", e.target.value),\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [/*#__PURE__*/_jsxDEV(FiCreditCard, {\n                    className: \"input-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 45\n                  }, this), \" \\u041F\\u0430\\u0441\\u043F\\u043E\\u0440\\u0442\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingClient.passport || \"\",\n                  onChange: e => handleEditField(\"passport\", e.target.value),\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [/*#__PURE__*/_jsxDEV(FiLock, {\n                    className: \"input-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 45\n                  }, this), \" \\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  value: editingClient.authUser.password || '',\n                  onChange: e => handleEditField(\"authUser.password\", e.target.value),\n                  className: \"form-input\",\n                  placeholder: \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043F\\u0443\\u0441\\u0442\\u044B\\u043C, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043D\\u0435 \\u043C\\u0435\\u043D\\u044F\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"section-title\",\n              children: \"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group full-width\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0423\\u0440\\u043E\\u0432\\u0435\\u043D\\u044C \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: editingClient.accessLevel || \"\",\n                  onChange: e => handleEditField(\"accessLevel\", e.target.value),\n                  className: \"form-select\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"-- \\u0432\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0443\\u0440\\u043E\\u0432\\u0435\\u043D\\u044C \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430 --\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 45\n                  }, this), statusList.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: status,\n                    children: status\n                  }, status, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 49\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"save-button\",\n              children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"cancel-button\",\n              onClick: () => setEditingClient(null),\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 17\n    }, this), isModalOpen && preferencesData && /*#__PURE__*/_jsxDEV(PreferenceEditModal, {\n      preference: preferencesData,\n      onClose: () => setIsModalOpen(false),\n      onSave: async updatedPref => {\n        try {\n          await updatePreferences(preferencesData.clientId, preferencesData.id, updatedPref);\n          await loadPreferences(preferencesData.clientId);\n          setIsModalOpen(false);\n        } catch (e) {\n          alert('Ошибка при сохранении предпочтения');\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 9\n  }, this);\n};\n_s(ClientList, \"7TejYRl2GmA+GBv08e74UlKzKM4=\");\n_c = ClientList;\nexport default ClientList;\nvar _c;\n$RefreshReg$(_c, \"ClientList\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","getClientsByManager","getHousingPreferences","updateClient","deleteClient","updatePreferences","getRequestsByManager","getPropertyEnums","PreferenceEditModal","FiEdit","FiTrash2","FiChevronDown","FiChevronUp","FiUser","FiPhone","FiMail","FiCreditCard","FiLock","FiHome","FiMapPin","FiDollarSign","FiLayers","FiSun","FiHeart","jsxDEV","_jsxDEV","ClientList","managerId","_s","clients","setClients","loading","setLoading","error","setError","expandedClientId","setExpandedClientId","editingClient","setEditingClient","statusList","setStatusList","editingPref","setEditingPref","isModalOpen","setIsModalOpen","preferencesData","setPreferencesData","handleEditClick","preference","prev","clientId","fetchClients","clientData","enriched","map","c","preferences","loadingPreferences","err","fetchEnums","_","enums","Promise","all","accessLevel","console","handleDeleteClient","window","confirm","prevClients","filter","client","id","response","alert","request","loadPreferences","prefs","togglePreferences","find","handleEditField","fieldPath","value","updated","startsWith","authUser","split","handleUpdateClient","e","preventDefault","dto","phone","passport","email","firstname","lastname","password","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","location","reload","_client$accessLevel","Fragment","size","toLowerCase","length","stopPropagation","colSpan","pref","index","city","district","street","minArea","maxArea","minPrice","maxPrice","roomsCount","hasBalcony","allowPets","additionalNotes","onSubmit","type","onChange","target","placeholder","status","onClose","onSave","updatedPref","_c","$RefreshReg$"],"sources":["D:/agency_front/src/components/ClientList.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport {\r\n    getClientsByManager,\r\n    getHousingPreferences,\r\n    updateClient,\r\n    deleteClient,\r\n    updatePreferences\r\n} from '../api/ClientService';\r\nimport { getRequestsByManager } from '../api/accessProperty';\r\nimport { getPropertyEnums } from '../api/propertyService';\r\nimport \"../styles/ClientList.css\";\r\nimport PreferenceEditModal from \"./Layout/PreferenceEditModal\";\r\nimport { FiEdit, FiTrash2, FiChevronDown, FiChevronUp, FiUser, FiPhone, FiMail, FiCreditCard, FiLock, FiHome, FiMapPin, FiDollarSign, FiLayers, FiSun, FiHeart } from 'react-icons/fi';\r\n\r\nconst ClientList = ({ managerId }) => {\r\n    const [clients, setClients] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [expandedClientId, setExpandedClientId] = useState(null);\r\n    const [editingClient, setEditingClient] = useState(null);\r\n    const [statusList, setStatusList] = useState([]);\r\n    const [editingPref, setEditingPref] = useState(null);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [preferencesData, setPreferencesData] = useState(null);\r\n\r\n    const handleEditClick = (preference) => {\r\n        setPreferencesData(prev => ({\r\n            ...preference,\r\n            clientId: expandedClientId\r\n        }));\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchClients = async () => {\r\n            try {\r\n                const clientData = await getClientsByManager(managerId);\r\n                const enriched = clientData.map(c => ({ ...c, preferences: null, loadingPreferences: false }));\r\n                setClients(enriched);\r\n            } catch (err) {\r\n                setError('Ошибка при загрузке клиентов');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (managerId) fetchClients();\r\n    }, [managerId]);\r\n\r\n    useEffect(() => {\r\n        const fetchEnums = async () => {\r\n            try {\r\n                const [_, enums] = await Promise.all([\r\n                    getRequestsByManager(managerId),\r\n                    getPropertyEnums()\r\n                ]);\r\n                setStatusList(enums.accessLevel || []);\r\n            } catch (err) {\r\n                console.error('Ошибка при загрузке статусов:', err);\r\n            }\r\n        };\r\n\r\n        fetchEnums();\r\n    }, [managerId]);\r\n\r\n    const handleDeleteClient = async (clientId) => {\r\n        if (!window.confirm('Вы уверены, что хотите удалить этого клиента?')) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await deleteClient(clientId);\r\n            setClients((prevClients) => prevClients.filter((client) => client.id !== clientId));\r\n        } catch (error) {\r\n            console.error('Ошибка при удалении клиента:', error);\r\n            if (error.response) {\r\n                alert('Не удалось удалить клиента. Ошибка сервера.');\r\n            } else if (error.request) {\r\n                alert('Не удалось удалить клиента. Ошибка с запросом.');\r\n            } else {\r\n                alert('Не удалось удалить клиента. Попробуйте позже.');\r\n            }\r\n        }\r\n    };\r\n\r\n    const loadPreferences = useCallback(async (clientId) => {\r\n        setClients(prev =>\r\n            prev.map(c => c.id === clientId ? { ...c, loadingPreferences: true } : c)\r\n        );\r\n        try {\r\n            const prefs = await getHousingPreferences(clientId);\r\n            setClients(prev =>\r\n                prev.map(c => c.id === clientId ? { ...c, preferences: prefs, loadingPreferences: false } : c)\r\n            );\r\n        } catch {\r\n            setClients(prev =>\r\n                prev.map(c => c.id === clientId ? { ...c, preferences: [], loadingPreferences: false } : c)\r\n            );\r\n        }\r\n    }, []);\r\n\r\n    const togglePreferences = (clientId) => {\r\n        if (expandedClientId === clientId) {\r\n            setExpandedClientId(null);\r\n        } else {\r\n            setExpandedClientId(clientId);\r\n            const client = clients.find(c => c.id === clientId);\r\n            if (!client.preferences) loadPreferences(clientId);\r\n        }\r\n    };\r\n\r\n    const handleEditField = (fieldPath, value) => {\r\n        const updated = { ...editingClient };\r\n        if (fieldPath.startsWith(\"authUser.\")) {\r\n            updated.authUser = { ...updated.authUser, [fieldPath.split(\".\")[1]]: value };\r\n        } else {\r\n            updated[fieldPath] = value;\r\n        }\r\n        setEditingClient(updated);\r\n    };\r\n\r\n    const handleUpdateClient = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const dto = {\r\n            accessLevel: editingClient.accessLevel,\r\n            phone: editingClient.phone,\r\n            passport: editingClient.passport,\r\n            email: editingClient.authUser.email,\r\n            firstname: editingClient.authUser.firstname,\r\n            lastname: editingClient.authUser.lastname,\r\n            password: editingClient.authUser.password,\r\n        };\r\n\r\n        try {\r\n            const updated = await updateClient(editingClient.id, dto);\r\n            setClients(prev =>\r\n                prev.map(c =>\r\n                    c.id === updated.id ? { ...updated, preferences: c.preferences } : c\r\n                )\r\n            );\r\n            setEditingClient(null);\r\n        } catch (err) {\r\n            alert('Ошибка при обновлении клиента');\r\n        }\r\n    };\r\n\r\n    if (loading) return (\r\n        <div className=\"loading-container\">\r\n            <div className=\"spinner\"></div>\r\n            <p>Загрузка клиентов...</p>\r\n        </div>\r\n    );\r\n\r\n    if (error) return (\r\n        <div className=\"error-container\">\r\n            <div className=\"error-message\">{error}</div>\r\n            <button onClick={() => window.location.reload()} className=\"retry-button\">\r\n                Попробовать снова\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"client-management-container\">\r\n            <div className=\"header-section\">\r\n                <h1 className=\"page-title\">Управление клиентами</h1>\r\n                <p className=\"page-subtitle\">Просмотр и редактирование информации о клиентах и их предпочтениях</p>\r\n            </div>\r\n\r\n            <div className=\"clients-table-container\">\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"clients-table\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Клиент</th>\r\n                            <th>Контактная информация</th>\r\n                            <th>Предпочтения</th>\r\n                            <th>Действия</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {clients.map(client => (\r\n                            <React.Fragment key={client.id}>\r\n                                <tr\r\n                                    className={`client-row ${expandedClientId === client.id ? 'expanded' : ''}`}\r\n                                    onClick={() => togglePreferences(client.id)}\r\n                                >\r\n                                    <td className=\"client-info\">\r\n                                        <div className=\"client-avatar\">\r\n                                            <FiUser size={24} />\r\n                                        </div>\r\n                                        <div className=\"client-name\">\r\n                                            {client.authUser.firstname} {client.authUser.lastname}\r\n                                            <span className={`access-level ${client.accessLevel?.toLowerCase()}`}>\r\n                                                    {client.accessLevel}\r\n                                                </span>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"contact-info\">\r\n                                        <div className=\"contact-item\">\r\n                                            <FiMail className=\"icon\" />\r\n                                            <span>{client.authUser.email}</span>\r\n                                        </div>\r\n                                        <div className=\"contact-item\">\r\n                                            <FiPhone className=\"icon\" />\r\n                                            <span>{client.phone || 'не указан'}</span>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"preferences-info\">\r\n                                        {client.loadingPreferences ? (\r\n                                            <div className=\"loading-indicator\">Загрузка...</div>\r\n                                        ) : (\r\n                                            <div className=\"preferences-summary\">\r\n                                                {client.preferences ? (\r\n                                                    <span>{client.preferences.length} предпочтений</span>\r\n                                                ) : (\r\n                                                    <span>Нажмите для загрузки</span>\r\n                                                )}\r\n                                                {expandedClientId === client.id ? (\r\n                                                    <FiChevronUp className=\"toggle-icon\" />\r\n                                                ) : (\r\n                                                    <FiChevronDown className=\"toggle-icon\" />\r\n                                                )}\r\n                                            </div>\r\n                                        )}\r\n                                    </td>\r\n                                    <td className=\"actions\">\r\n                                        <button\r\n                                            className=\"edit-button\"\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                setEditingClient({ ...client });\r\n                                            }}\r\n                                        >\r\n                                            <FiEdit /> Редактировать\r\n                                        </button>\r\n                                        <button\r\n                                            className=\"delete-button\"\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                handleDeleteClient(client.id);\r\n                                            }}\r\n                                        >\r\n                                            <FiTrash2 /> Удалить\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n\r\n                                {expandedClientId === client.id && client.preferences && (\r\n                                    <tr className=\"preferences-details-row\">\r\n                                        <td colSpan=\"4\">\r\n                                            <div className=\"preferences-container\">\r\n                                                <h3 className=\"preferences-header\">\r\n                                                    <FiHeart className=\"header-icon\" />\r\n                                                    Жилищные предпочтения\r\n                                                </h3>\r\n\r\n                                                {client.preferences.length > 0 ? (\r\n                                                    <div className=\"preferences-grid\">\r\n                                                        {client.preferences.map((pref, index) => (\r\n                                                            <div key={index} className=\"preference-card\">\r\n                                                                <div className=\"preference-card-header\">\r\n                                                                    <h4>Предпочтение #{index + 1}</h4>\r\n                                                                    <button\r\n                                                                        className=\"edit-pref-button\"\r\n                                                                        onClick={() => handleEditClick(pref)}\r\n                                                                    >\r\n                                                                        <FiEdit /> Редактировать\r\n                                                                    </button>\r\n                                                                </div>\r\n                                                                <div className=\"preference-details\">\r\n                                                                    <div className=\"detail-row\">\r\n                                                                        <FiMapPin className=\"detail-icon\" />\r\n                                                                        <span><strong>Локация:</strong> {pref.city || 'не указан'}, {pref.district || 'не указан'}, {pref.street || 'не указана'}</span>\r\n                                                                    </div>\r\n                                                                    <div className=\"detail-row\">\r\n                                                                        <FiLayers className=\"detail-icon\" />\r\n                                                                        <span><strong>Площадь:</strong> {pref.minArea || '?'} - {pref.maxArea || '?'} м²</span>\r\n                                                                    </div>\r\n                                                                    <div className=\"detail-row\">\r\n                                                                        <FiDollarSign className=\"detail-icon\" />\r\n                                                                        <span><strong>Цена:</strong> {pref.minPrice || '?'} - {pref.maxPrice || '?'} руб.</span>\r\n                                                                    </div>\r\n                                                                    <div className=\"detail-row\">\r\n                                                                        <FiHome className=\"detail-icon\" />\r\n                                                                        <span><strong>Комнат:</strong> {pref.roomsCount || 'не указано'}</span>\r\n                                                                    </div>\r\n                                                                    <div className=\"detail-row\">\r\n                                                                        <FiSun className=\"detail-icon\" />\r\n                                                                        <span><strong>Балкон:</strong> {pref.hasBalcony ? 'да' : 'нет'}</span>\r\n                                                                    </div>\r\n                                                                    <div className=\"detail-row\">\r\n                                                                        <span><strong>Животные:</strong> {pref.allowPets ? 'разрешены' : 'нет'}</span>\r\n                                                                    </div>\r\n                                                                    {pref.additionalNotes && (\r\n                                                                        <div className=\"detail-row notes\">\r\n                                                                            <span><strong>Примечания:</strong> {pref.additionalNotes}</span>\r\n                                                                        </div>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                ) : (\r\n                                                    <div className=\"no-preferences\">\r\n                                                        Нет сохранённых предпочтений\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                )}\r\n                            </React.Fragment>\r\n                        ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            {editingClient && (\r\n                <div className=\"modal-overlay\">\r\n                    <div className=\"edit-client-modal\">\r\n                        <div className=\"modal-header\">\r\n                            <h3>Редактирование клиента</h3>\r\n                            <button\r\n                                className=\"close-button\"\r\n                                onClick={() => setEditingClient(null)}\r\n                            >\r\n                                &times;\r\n                            </button>\r\n                        </div>\r\n                        <form onSubmit={handleUpdateClient} className=\"client-form\">\r\n                            <div className=\"form-section\">\r\n                                <h4 className=\"section-title\">Основная информация</h4>\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>\r\n                                            <FiUser className=\"input-icon\" /> Имя\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={editingClient.authUser.firstname}\r\n                                            onChange={(e) => handleEditField(\"authUser.firstname\", e.target.value)}\r\n                                            className=\"form-input\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label>\r\n                                            <FiUser className=\"input-icon\" /> Фамилия\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={editingClient.authUser.lastname}\r\n                                            onChange={(e) => handleEditField(\"authUser.lastname\", e.target.value)}\r\n                                            className=\"form-input\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-section\">\r\n                                <h4 className=\"section-title\">Контактные данные</h4>\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>\r\n                                            <FiMail className=\"input-icon\" /> Email\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"email\"\r\n                                            value={editingClient.authUser.email}\r\n                                            onChange={(e) => handleEditField(\"authUser.email\", e.target.value)}\r\n                                            className=\"form-input\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label>\r\n                                            <FiPhone className=\"input-icon\" /> Телефон\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={editingClient.phone || \"\"}\r\n                                            onChange={(e) => handleEditField(\"phone\", e.target.value)}\r\n                                            className=\"form-input\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>\r\n                                            <FiCreditCard className=\"input-icon\" /> Паспорт\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={editingClient.passport || \"\"}\r\n                                            onChange={(e) => handleEditField(\"passport\", e.target.value)}\r\n                                            className=\"form-input\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label>\r\n                                            <FiLock className=\"input-icon\" /> Пароль\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"password\"\r\n                                            value={editingClient.authUser.password || ''}\r\n                                            onChange={(e) => handleEditField(\"authUser.password\", e.target.value)}\r\n                                            className=\"form-input\"\r\n                                            placeholder=\"Оставьте пустым, чтобы не менять\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-section\">\r\n                                <h4 className=\"section-title\">Доступ</h4>\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"form-group full-width\">\r\n                                        <label>\r\n                                            Уровень доступа\r\n                                        </label>\r\n                                        <select\r\n                                            value={editingClient.accessLevel || \"\"}\r\n                                            onChange={(e) => handleEditField(\"accessLevel\", e.target.value)}\r\n                                            className=\"form-select\"\r\n                                        >\r\n                                            <option value=\"\">-- выбрать уровень доступа --</option>\r\n                                            {statusList.map((status) => (\r\n                                                <option key={status} value={status}>{status}</option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-actions\">\r\n                                <button type=\"submit\" className=\"save-button\">\r\n                                    Сохранить изменения\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"cancel-button\"\r\n                                    onClick={() => setEditingClient(null)}\r\n                                >\r\n                                    Отменить\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {isModalOpen && preferencesData && (\r\n                <PreferenceEditModal\r\n                    preference={preferencesData}\r\n                    onClose={() => setIsModalOpen(false)}\r\n                    onSave={async (updatedPref) => {\r\n                        try {\r\n                            await updatePreferences(preferencesData.clientId, preferencesData.id, updatedPref);\r\n                            await loadPreferences(preferencesData.clientId);\r\n                            setIsModalOpen(false);\r\n                        } catch (e) {\r\n                            alert('Ошибка при сохранении предпочтения');\r\n                        }\r\n                    }}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ClientList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}